<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>beforeRunningCommand</key>
	<string>nop</string>
	<key>command</key>
	<string>#! /usr/bin/osascript

-- AppleScriptæ§åˆ¶iTunesè‡ªåŠ¨å¿«é€€ 
-- åŸå§‹ä»£ç æ¥æº:http://hints.macworld.com/article.php?story=200507192227372
-- èˆªæµ·è§è¯†å‘å¸ƒé¡µé¢:http://see.sl088.com/wiki/ITunes_%E5%BF%AB%E9%80%9F%E5%80%92%E9%80%80_%E8%8B%B9%E6%9E%9C%E8%84%9A%E6%9C%AC

--ç¥å¥‡!å®ƒå·¥ä½œ!å¹¶ä¸”éå¸¸ä¸é”™!

--TODO: å¦‚æœå¼€å¤´çš„æ—¶å€™è·³åˆ°åé¢å»?æˆ–è®¸å¯ä»¥ç”¨Cmd+\æ¥æ§åˆ¶?ä½†æ˜¯é‚£æ ·å°±åˆ†å¼€è„šæœ¬äº†..å› ä¸ºæ˜¯é‡å¤çš„,æ‰€ä»¥è¿™æ ·çœ‹èµ·æ¥å¾ˆæœ‰è¶£,å¼€å¤´çš„æ—¶é—´å¾ˆå°‘..è€Œä¸”ä½ ä¹Ÿæ²¡åŠæ³•æ„è¯†åˆ°ç»“å°¾.
--TODO:æˆ–è®¸æ£€æµ‹æŒ‰ä¸‹å»çš„é¢‘ç‡?ç»™å‡ºä¸€ä¸ªæç¤º?
--TODO:æˆ–è®¸å¯ä»¥æš‚åœå,ç­‰å¾…è‹¥å¹²ç§’,è¿˜åœ¨æ’­æ”¾çš„è¯,åˆ°äº†æ—¶é—´çš„è¯,é‚£å°±æš‚åœæ‰,åªè¦ä¸€ä¸ªå°è¿‡ç¨‹çš„é‡æ”¾...è€Œä¸ä¼šæºœèµ°...

-- è®¾ç½®å€¼: æ¯æ¬¡ç­‰å¾…çš„æ—¶é—´æ˜¯å‡ ç§’
set THETIMER to 6

--åªæ˜¯å€’é€€
fast_back(THETIMER)

-- å‡½æ•°éƒ¨åˆ† --
-- å¿«é€Ÿåé€€
on fast_back(gobacktime)
	tell application "iTunes"
		if player state is playing or player state is paused then -- å¦‚æœéœ€è¦æ’­æ”¾çš„æ—¶å€™æ‰åé€€...
			-- è·å¾—å½“å‰çš„æ’­æ”¾æ—¶é—´è¿›åº¦
			set currTime to get player position
			-- å¦‚æœå½“å‰æ’­æ”¾çš„ç§’æ•°è¿˜æ²¡æœ‰è¶³å¤Ÿåé€€çš„æè¿°
			if currTime &lt; gobacktime then
				-- è¿”å›åˆ°èµ·ç‚¹å¥½äº†
				set currSkip to 0
			else
				-- å¦‚æœæ—¶é—´è¶³å¤Ÿ,é‚£ä¹ˆå°±åªå‡å°‘åç§’å°±ç½¢äº†
				set currSkip to currTime - gobacktime
			end if
			
			-- è·³è·ƒåˆ°æ–°çš„æ’­æ”¾ä½ç½®
			set player position to currSkip
			
			-- å¦‚æœæ˜¯æš‚åœçš„è¯,é‚£å°±ç»§ç»­æ’­æ”¾
			-- todo: æé†’åˆ°äº†å¼€å¤´?
			if player state is not playing then
				play
				return ("â¬…ï¸" &amp; gobacktime &amp; " ğŸ”Š")
				
			else
				return ("â¬…ï¸" &amp; gobacktime &amp; "")
				
			end if
		else
			return ("æœªæ’­æ”¾æˆ–æš‚åœ,ä¸å·¥ä½œ")
		end if
		
	end tell
end fast_back

-- å¿«é€Ÿå‰è¿›
on fast_go(gobacktime)
	tell application "iTunes"
		if player state is playing then
			-- length of current track:
			set trackTime to duration of current track
			--get the current position time:
			set currTime to get player position
			--to set new position to gobacktime seconds ahead:
			set currSkip to currTime + gobacktime
			
			-- checks if new position is greater than 
			-- length of track, and corrects it if it is:
			if currSkip &gt; trackTime then
				set currSkip to trackTime
			end if
			
			set player position to currSkip --skip to new position
		end if
	end tell
end fast_go</string>
	<key>input</key>
	<string>none</string>
	<key>inputFormat</key>
	<string>text</string>
	<key>keyEquivalent</key>
	<string>^\</string>
	<key>name</key>
	<string>iTunes å¿«é€€</string>
	<key>outputCaret</key>
	<string>afterOutput</string>
	<key>outputFormat</key>
	<string>text</string>
	<key>outputLocation</key>
	<string>toolTip</string>
	<key>scope</key>
	<string>text.html.mediawiki</string>
	<key>uuid</key>
	<string>6616ABF5-E8E4-4237-8128-92EF11601761</string>
	<key>version</key>
	<integer>2</integer>
</dict>
</plist>
